Acquiring state lock. This may take a few moments...

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create
[0m
Terraform will perform the following actions:

[1m  # module.api_gateway.aws_api_gateway_integration.lambda_integration[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_api_gateway_integration" "lambda_integration" {
      [32m+[0m [0m[1m[0mcache_namespace[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mconnection_type[0m[0m         = "INTERNET"
      [32m+[0m [0m[1m[0mhttp_method[0m[0m             = "POST"
      [32m+[0m [0m[1m[0mid[0m[0m                      = (known after apply)
      [32m+[0m [0m[1m[0mintegration_http_method[0m[0m = "POST"
      [32m+[0m [0m[1m[0mpassthrough_behavior[0m[0m    = (known after apply)
      [32m+[0m [0m[1m[0mresource_id[0m[0m             = (known after apply)
      [32m+[0m [0m[1m[0mrest_api_id[0m[0m             = (known after apply)
      [32m+[0m [0m[1m[0mtimeout_milliseconds[0m[0m    = 29000
      [32m+[0m [0m[1m[0mtype[0m[0m                    = "AWS_PROXY"
      [32m+[0m [0m[1m[0muri[0m[0m                     = (known after apply)
    }

[1m  # module.api_gateway.aws_api_gateway_method.method[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_api_gateway_method" "method" {
      [32m+[0m [0m[1m[0mapi_key_required[0m[0m = false
      [32m+[0m [0m[1m[0mauthorization[0m[0m    = "NONE"
      [32m+[0m [0m[1m[0mhttp_method[0m[0m      = "POST"
      [32m+[0m [0m[1m[0mid[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mresource_id[0m[0m      = (known after apply)
      [32m+[0m [0m[1m[0mrest_api_id[0m[0m      = (known after apply)
    }

[1m  # module.api_gateway.aws_api_gateway_resource.resource[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_api_gateway_resource" "resource" {
      [32m+[0m [0m[1m[0mid[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mparent_id[0m[0m   = (known after apply)
      [32m+[0m [0m[1m[0mpath[0m[0m        = (known after apply)
      [32m+[0m [0m[1m[0mpath_part[0m[0m   = "myresource"
      [32m+[0m [0m[1m[0mrest_api_id[0m[0m = (known after apply)
    }

[1m  # module.api_gateway.aws_api_gateway_rest_api.api[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_api_gateway_rest_api" "api" {
      [32m+[0m [0m[1m[0mapi_key_source[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0marn[0m[0m                          = (known after apply)
      [32m+[0m [0m[1m[0mbinary_media_types[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mcreated_date[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mdescription[0m[0m                  = "API for accessing Lambda functions"
      [32m+[0m [0m[1m[0mdisable_execute_api_endpoint[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mexecution_arn[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                           = (known after apply)
      [32m+[0m [0m[1m[0mminimum_compression_size[0m[0m     = -1
      [32m+[0m [0m[1m[0mname[0m[0m                         = "MyAPI"
      [32m+[0m [0m[1m[0mpolicy[0m[0m                       = (known after apply)
      [32m+[0m [0m[1m[0mroot_resource_id[0m[0m             = (known after apply)
      [32m+[0m [0m[1m[0mtags_all[0m[0m                     = (known after apply)

      [32m+[0m [0mendpoint_configuration {
          [32m+[0m [0m[1m[0mtypes[0m[0m            = (known after apply)
          [32m+[0m [0m[1m[0mvpc_endpoint_ids[0m[0m = (known after apply)
        }
    }

[1m  # module.dynamodb.aws_dynamodb_table.my_table[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_dynamodb_table" "my_table" {
      [32m+[0m [0m[1m[0marn[0m[0m              = (known after apply)
      [32m+[0m [0m[1m[0mbilling_mode[0m[0m     = "PAY_PER_REQUEST"
      [32m+[0m [0m[1m[0mhash_key[0m[0m         = "id"
      [32m+[0m [0m[1m[0mid[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m             = "MyDynamoDBTable"
      [32m+[0m [0m[1m[0mread_capacity[0m[0m    = (known after apply)
      [32m+[0m [0m[1m[0mstream_arn[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0mstream_label[0m[0m     = (known after apply)
      [32m+[0m [0m[1m[0mstream_view_type[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mtags_all[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mwrite_capacity[0m[0m   = (known after apply)

      [32m+[0m [0mattribute {
          [32m+[0m [0m[1m[0mname[0m[0m = "id"
          [32m+[0m [0m[1m[0mtype[0m[0m = "S"
        }

      [32m+[0m [0mpoint_in_time_recovery {
          [32m+[0m [0m[1m[0menabled[0m[0m = (known after apply)
        }

      [32m+[0m [0mserver_side_encryption {
          [32m+[0m [0m[1m[0menabled[0m[0m     = (known after apply)
          [32m+[0m [0m[1m[0mkms_key_arn[0m[0m = (known after apply)
        }

      [32m+[0m [0mttl {
          [32m+[0m [0m[1m[0mattribute_name[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0menabled[0m[0m        = (known after apply)
        }
    }

[1m  # module.lambda.aws_iam_role.lambda_exec[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role" "lambda_exec" {
      [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {
              [32m+[0m [0mStatement = [
                  [32m+[0m [0m{
                      [32m+[0m [0mAction    = "sts:AssumeRole"
                      [32m+[0m [0mEffect    = "Allow"
                      [32m+[0m [0mPrincipal = {
                          [32m+[0m [0mService = "lambda.amazonaws.com"
                        }
                    },
                ]
              [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
      [32m+[0m [0m[1m[0mcreate_date[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mforce_detach_policies[0m[0m = false
      [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mmanaged_policy_arns[0m[0m   = (known after apply)
      [32m+[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600
      [32m+[0m [0m[1m[0mname[0m[0m                  = "lambda_exec_role"
      [32m+[0m [0m[1m[0mname_prefix[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mpath[0m[0m                  = "/"
      [32m+[0m [0m[1m[0mtags_all[0m[0m              = (known after apply)
      [32m+[0m [0m[1m[0munique_id[0m[0m             = (known after apply)

      [32m+[0m [0minline_policy {
          [32m+[0m [0m[1m[0mname[0m[0m   = (known after apply)
          [32m+[0m [0m[1m[0mpolicy[0m[0m = (known after apply)
        }
    }

[1m  # module.lambda.aws_iam_role_policy.lambda_exec_policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role_policy" "lambda_exec_policy" {
      [32m+[0m [0m[1m[0mid[0m[0m     = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m   = (known after apply)
      [32m+[0m [0m[1m[0mpolicy[0m[0m = jsonencode(
            {
              [32m+[0m [0mStatement = [
                  [32m+[0m [0m{
                      [32m+[0m [0mAction   = [
                          [32m+[0m [0m"logs:*",
                          [32m+[0m [0m"dynamodb:*",
                        ]
                      [32m+[0m [0mEffect   = "Allow"
                      [32m+[0m [0mResource = "*"
                    },
                ]
              [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
      [32m+[0m [0m[1m[0mrole[0m[0m   = (known after apply)
    }

[1m  # module.lambda.aws_lambda_function.my_lambda[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_lambda_function" "my_lambda" {
      [32m+[0m [0m[1m[0marchitectures[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0marn[0m[0m                            = (known after apply)
      [32m+[0m [0m[1m[0mfilename[0m[0m                       = "lambda_function_payload.zip"
      [32m+[0m [0m[1m[0mfunction_name[0m[0m                  = "MyLambdaFunction"
      [32m+[0m [0m[1m[0mhandler[0m[0m                        = "index.handler"
      [32m+[0m [0m[1m[0mid[0m[0m                             = (known after apply)
      [32m+[0m [0m[1m[0minvoke_arn[0m[0m                     = (known after apply)
      [32m+[0m [0m[1m[0mlast_modified[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mmemory_size[0m[0m                    = 128
      [32m+[0m [0m[1m[0mpackage_type[0m[0m                   = "Zip"
      [32m+[0m [0m[1m[0mpublish[0m[0m                        = false
      [32m+[0m [0m[1m[0mqualified_arn[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mreserved_concurrent_executions[0m[0m = -1
      [32m+[0m [0m[1m[0mrole[0m[0m                           = (known after apply)
      [32m+[0m [0m[1m[0mruntime[0m[0m                        = "nodejs14.x"
      [32m+[0m [0m[1m[0msigning_job_arn[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0msigning_profile_version_arn[0m[0m    = (known after apply)
      [32m+[0m [0m[1m[0msource_code_hash[0m[0m               = "mlp4ZtcADA9wxedciBNjclUG9KQzTW6rHIXHmhUiVnc="
      [32m+[0m [0m[1m[0msource_code_size[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mtags_all[0m[0m                       = (known after apply)
      [32m+[0m [0m[1m[0mtimeout[0m[0m                        = 3
      [32m+[0m [0m[1m[0mversion[0m[0m                        = (known after apply)

      [32m+[0m [0mtracing_config {
          [32m+[0m [0m[1m[0mmode[0m[0m = (known after apply)
        }
    }

[1m  # module.vpc.aws_internet_gateway.gw[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_internet_gateway" "gw" {
      [32m+[0m [0m[1m[0marn[0m[0m      = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0mowner_id[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mtags_all[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mvpc_id[0m[0m   = (known after apply)
    }

[1m  # module.vpc.aws_subnet.main_subnet[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_subnet" "main_subnet" {
      [32m+[0m [0m[1m[0marn[0m[0m                                            = (known after apply)
      [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m                = false
      [32m+[0m [0m[1m[0mavailability_zone[0m[0m                              = "us-east-1a"
      [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m                           = (known after apply)
      [32m+[0m [0m[1m[0mcidr_block[0m[0m                                     = "10.0.1.0/24"
      [32m+[0m [0m[1m[0menable_dns64[0m[0m                                   = false
      [32m+[0m [0m[1m[0menable_resource_name_dns_a_record_on_launch[0m[0m    = false
      [32m+[0m [0m[1m[0menable_resource_name_dns_aaaa_record_on_launch[0m[0m = false
      [32m+[0m [0m[1m[0mid[0m[0m                                             = (known after apply)
      [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mipv6_native[0m[0m                                    = false
      [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m                        = false
      [32m+[0m [0m[1m[0mowner_id[0m[0m                                       = (known after apply)
      [32m+[0m [0m[1m[0mprivate_dns_hostname_type_on_launch[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mtags_all[0m[0m                                       = (known after apply)
      [32m+[0m [0m[1m[0mvpc_id[0m[0m                                         = (known after apply)
    }

[1m  # module.vpc.aws_vpc.main[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_vpc" "main" {
      [32m+[0m [0m[1m[0marn[0m[0m                                  = (known after apply)
      [32m+[0m [0m[1m[0mcidr_block[0m[0m                           = "10.0.0.0/16"
      [32m+[0m [0m[1m[0mdefault_network_acl_id[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mdefault_route_table_id[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mdefault_security_group_id[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mdhcp_options_id[0m[0m                      = (known after apply)
      [32m+[0m [0m[1m[0menable_classiclink[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0menable_classiclink_dns_support[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0menable_dns_hostnames[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0menable_dns_support[0m[0m                   = true
      [32m+[0m [0m[1m[0mid[0m[0m                                   = (known after apply)
      [32m+[0m [0m[1m[0minstance_tenancy[0m[0m                     = "default"
      [32m+[0m [0m[1m[0mipv6_association_id[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                      = (known after apply)
      [32m+[0m [0m[1m[0mipv6_cidr_block_network_border_group[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mmain_route_table_id[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mowner_id[0m[0m                             = (known after apply)
      [32m+[0m [0m[1m[0mtags_all[0m[0m                             = (known after apply)
    }

[1m  # module.vpc.aws_vpc_endpoint.api_gateway_endpoint[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_vpc_endpoint" "api_gateway_endpoint" {
      [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0mcidr_blocks[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mdns_entry[0m[0m             = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mnetwork_interface_ids[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mowner_id[0m[0m              = (known after apply)
      [32m+[0m [0m[1m[0mpolicy[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0mprefix_list_id[0m[0m        = (known after apply)
      [32m+[0m [0m[1m[0mprivate_dns_enabled[0m[0m   = false
      [32m+[0m [0m[1m[0mrequester_managed[0m[0m     = (known after apply)
      [32m+[0m [0m[1m[0mroute_table_ids[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0msecurity_group_ids[0m[0m    = (known after apply)
      [32m+[0m [0m[1m[0mservice_name[0m[0m          = "com.amazonaws.us-east-1.execute-api"
      [32m+[0m [0m[1m[0mstate[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0msubnet_ids[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mtags_all[0m[0m              = (known after apply)
      [32m+[0m [0m[1m[0mvpc_endpoint_type[0m[0m     = "Interface"
      [32m+[0m [0m[1m[0mvpc_id[0m[0m                = (known after apply)
    }

[0m[1mPlan:[0m 12 to add, 0 to change, 0 to destroy.
[0m[0m
[1mChanges to Outputs:[0m[0m
  [32m+[0m [0m[1m[0mapi_url[0m[0m             = (known after apply)
  [32m+[0m [0m[1m[0mdynamodb_table_name[0m[0m = "MyDynamoDBTable"
  [32m+[0m [0m[1m[0mlambda_invoke_arn[0m[0m   = (known after apply)
  [32m+[0m [0m[1m[0msubnet_id[0m[0m           = (known after apply)
  [32m+[0m [0m[1m[0mvpc_endpoint_id[0m[0m     = (known after apply)
  [32m+[0m [0m[1m[0mvpc_id[0m[0m              = (known after apply)
[90m
─────────────────────────────────────────────────────────────────────────────[0m

Note: You didn't use the -out option to save this plan, so Terraform can't
guarantee to take exactly these actions if you run "terraform apply" now.
Releasing state lock. This may take a few moments...
